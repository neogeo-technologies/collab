openapi: 3.0.0
info:
  title: Documentation API GéoContrib
  description: Cette page décrit l'ensemble des services REST offerts par l'API GéoContrib.
  contact:
    email: contact@geocontrib.fr
  version: 1.0.0

servers:
  - url: https://geocontrib.dev.neogeo.fr/geocontrib/
    variables: {}

paths:
  /api/login:
    post:
      tags:
        - auth
      summary: login
      description: |-
        Ce service permet de se logguer sur geocontrib.
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Login'
        required: true
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/LoginDetail'
            application/json:
              schema:
                $ref: '#/components/schemas/LoginDetail'
        '400':
          description: | 
            {"username": ["Ce champ est obligatoire."]}
            {"password": ["Ce champ est obligatoire."]}
        '403':
          description: | 
            {"detail": "Informations d'authentification incorrectes."}
            {"detail": "Informations d'authentification non fournies."}
      deprecated: false
      security: []

  /api/logout:
    get:
      tags:
        - auth
      summary: logout
      description: |-
        Ce service permet de se delogguer sur geocontrib.
      operationId: logout
      responses:
        '200':
          description:  | 
            "detail": {username} signed out"
        '403':
          description: | 
           {"detail": "Informations d'authentification non fournies."}
      deprecated: false
      security: []

  /api/v2/projects/:
    get:
      tags:
        - projects
      summary: getProjects
      description: |-
        Ce service permet de récupérer tous les projects.
      operationId: getProjects
      parameters:
        - name: search
          in: query
          description: Recherche par un paramètre de requête ?search=..., et peut être délimité par des virgules et/ou des espaces
          required: false
          schema:
            type: string
        - name: is_project_type
          in: query
          description: Recherche par un paramètre de requête ?is_project_type=..., true/false
          required: false
          schema:
            type: string
        - name: moderation
          in: query
          description: Recherche par un paramètre de requête ?moderation=..., true/false
          required: false
          schema:
            type: string
        - name: access_level
          in: query
          description: Recherche par un paramètre de requête ?access_level=..., anonymous/logged_user/contributor/super_contributor/moderator/admin
          required: false
          schema:
            type: string
        - name: user_access_level
          in: query
          description: Recherche par un paramètre de requête ?user_access_level=..., anonymous/logged_user/contributor/super_contributor/moderator/admin
          schema:
            type: string
        - name : accessible
          in: query
          description: Recherche par un paramètre de requête ?accessible=...,  true/false
          schema:
            type: string
        - name : myaccount
          in: query
          description: Recherche par un paramètre de requête ?myaccount=...,  true/false
          schema:
            type: string
        - name : page
          in: query
          description: Recherche par un paramètre de requête ?page=...,  1/2/3 ...
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectsGet'
        '404':
          description:  | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
      deprecated: false
      security: []

    post:
      tags:
        - projects
      summary: addProjects
      description: |-
        Ce service permet de créer un project.
      operationId: addProjects
      parameters: []
      requestBody:
        description: Ce service permet de créer un projet sur GéoContrib.
                    En réponse un nouveau projet est créé et son contenu est affiché.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectPost'
        required: true
      responses:
        '201':
          description: Création
          content:
           application/json:
            schema:
                type: object
           application/xml:
            schema:
                type: object
        # '401':
        #   description: |

        # '400':
        #   description:  |

        # '403':
        #   description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security:
        - bearerAuth: []

  /api/v2/projects/{slug}/:
    get:
      tags:
        - projects
      summary: getProject
      description: |-
        Ce service permet de récupérer les détails d'un project.
      operationId: getProject
      parameters:
        - name : slug
          in: path
          description: Recherche par slug (string)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/ProjectGet'
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectGet'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
    put:
      tags:
        - projects
      summary: updateProject
      description: |-
        Ce service permet de mettre à jour un project.
      operationId: updateProject
      parameters:
        - name : slug
          in: path
          description: Recherche par slug (string)
          required: true
          schema:
            type: string
      requestBody:
        description: Ce service permet de mettre à jour un projet sur GéoContrib.
                    En réponse le projet est mis à jour et son  contenu sont affiché.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectUpdate'
        required: true
      responses:
        '200':
          description: Mise à jour
          content:
           application/json:
            schema:
                type: object
           application/xml:
            schema:
                type: object
        # '401':
        #   description: |

        # '400':
        #   description:  |

        # '403':
        #   description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security:
        - bearerAuth: []
    delete:
      tags:
        - projects
      summary: deleteProject
      description: Suppression d'un projet
      operationId: deleteProject
      parameters:
        - name : slug
          in: path
          description: Recherche par slug (string)
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Supression du projet a été faite avec succès
        '403':
          description: |-
            "detail :	"Informations d'authentification non fournies."
            "detail": "Nom d'utilisateur et/ou mot de passe non valide(s)."
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
      deprecated: false
      security:
        - bearerAuth: []
  /api/projects/{slug}/duplicate/:
    post:
      tags:
        - projects
      summary: addProjectDuplicate
      description: |-
        Ce service permet de dupliquer un project.
      operationId: addProjectDuplicate
      parameters:
        - name : slug
          in: path
          description: Creation du project à partir de son slug (string)
          required: true
          schema:
            type: string
      requestBody:
        description: Ce service permet de dupliquer un projet sur GéoContrib.
                    En réponse un nouveau projet est créé et son contenu sont affiché.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectPost'
        required: true
      responses:
        '201':
          description: Création
          content:
           application/json:
            schema:
                type: object
           application/xml:
            schema:
                type: object
        # '401':
        #   description: |

        # '400':
        #   description:  |

        # '403':
        #   description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security:
        - bearerAuth: []
  /api/projects/{slug}/thumbnail/:
    get:
      tags:
        - projects
      summary: getProjectThumbnail
      description: |-
        Ce service permet de récupérer la vignette d'un project.
      operationId: getProjectThumbnail
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Vignette image en format JPEG
          content:
            image/jpeg:
              schema:
                type: string
                format: binary
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []
    put:
      tags:
        - projects
      summary: putProjectThumbnail
      description: |-
        Ce service permet de mettre à jour la vignette d'un project.
      operationId: putProjectThumbnail
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      requestBody:
        description: Ce service permet de mettre à jour la vignette d'un projet sur GéoContrib.
                    En réponse le projet est mis à jour et son  contenu sont affiché.
        content: 
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
        required: true
      responses:
        '200':
          description: Detail du projet
          content:
           application/json:
            schema:
                $ref: '#/components/schemas/ProjectsGet'
           application/xml:
            schema:
                $ref: '#/components/schemas/ProjectsGet'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 

        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []
  /api/projects/{slug}/utilisateurs/:
    get:
      tags:
        - projects
      summary: getProjectUtilisateurs
      description: |-
        Ce service permet de récupérer tous les utilisateurs d'un project.
      operationId: getProjectUtilisateurs
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProject'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []
    put:
      tags:
        - projects
      summary: putProjectUtilisateurs
      description: |-
        Ce service permet de récupérer tous les utilisateurs d'un project.
      operationId: putProjectUtilisateurs
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      requestBody:
        description: Ce service permet de mettre à les utilisateurs d'un projet.
                    En réponse les utilisateurs du projet sont mis à jour et son  contenu sont affiché.
        content: 
          application/json:
            schema:
              $ref: '#/components/schemas/UserProject'
        required: true
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/UserProject'
            application/json:
              schema:
                $ref: '#/components/schemas/UserProject'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []
  /api/projects/{slug}/feature-bbox:
    get:
      tags:
        - projects
      summary: getProjectFeatureBbox
      description: |-
        Ce service permet de récupérer une bbox des signalements d'un project.
      operationId: getProjectFeatureBbox
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/BboxProject'
            application/json:
              schema:
                $ref: '#/components/schemas/BboxProject'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []
  /api/projects/{slug}/comments:
    get:
      tags:
        - projects
      summary: getProjectComments
      description: |-
        Ce service permet de récupérer des dernières commentaires sur des signalements d'un project.
      operationId: getProjectComments
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/ProjectComments'
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectComments'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []
  /api/projects/{slug}/feature-type/{feature_type_slug}/:
    get:
      tags:
        - projects
      summary: getSignalementsProject
      description: |-
        Ce service permet le téléchargement des signalements lié à un projet.
      operationId: getSignalementsProject
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
        - name: feature_type_slug
          in: path
          description: Slug (string) du type de signalement
          required: true
          schema:
            type: string
        - name: format_export
          in: query
          description: Type de format attendu => geojson / csv
          schema:
            type: string
      responses:
        '200':
          description: Fichier des signalements en format geojson ou csv
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GeojsonFeatures'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []
  /api/projects/{slug}/feature-search:
    get:
      tags:
        - projects
      summary: getProjectSearch
      description: |-
        Ce service permet de récupérer des signalements d'un project, selon paramètres.
      operationId: getProjectSearch
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
        - name: geom
          in: query
          description: Type de format attendu => geojson / csv
          schema:
            type: string
        - name: status
          in: query
          description: Type de format attendu => geojson / csv
          schema:
            type: string
        - name: feature_type_slug
          in: query
          description: Type de format attendu => geojson / csv
          schema:
            type: string
        - name: title
          in: query
          description: Type de format attendu => geojson / csv
          schema:
            type: string
        - name: feature_id
          in: query
          description: Type de format attendu => geojson / csv
          schema:
            type: string
        - name: exclude_feature_id
          in: query
          description: Type de format attendu => geojson / csv
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureSearch'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureSearch'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []

  /api/projects/{slug}/subscription/:
    get:
      tags:
        - projects
      summary: getProjectSubscription
      description: |-
        Ce service permet de récupérer la subscription à un project de l'utilisateur connecté.
      operationId: getProjectSubscription
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/Subscription'
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []

    put:
      tags:
        - projects
      summary: putProjectSubscription
      description: |-
        Ce service permet de mettre à jour la subscription à un project de l'utilisateur connecté.
      operationId: putProjectSubscription
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Subscription'
        required: true
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/Subscription'
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []

  /api/projects/{slug}/feature/{feature_id}/position-in-list/:
    get:
      tags:
        - projects
      summary: getProjectFeaturePositionInList
      description: |-
        Ce service permet de récupérer 
      operationId: getProjectFeaturePositionInList
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
        - name : feature_id
          in: path
          description: UUID du signalement
          required: true
          schema:
            type: string
        - name : ordering
          in: query
          description: Recherche par un paramètre de requête ?ordering=...
          schema:
            type: string
        - name : offset
          in: query
          description: Recherche par un paramètre de requête ?offset=...,  10/50/100
          schema:
            type: string
        - name : feature_type_slug
          in: query
          description: Recherche par un paramètre de requête ?feature_type_slug=...
          schema:
            type: string
        - name : status
          in: query
          description: Recherche par un paramètre de requête ?status=...
          schema:
            type: string
        - name : title
          in: query
          description: Recherche par un paramètre de requête ?title=...
          schema:
            type: string
      responses:
        '200':
           description:  | 
            un entiere de 0 à N
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []

  /api/projects/{slug}/feature-paginated/:
    get:
      tags:
        - projects
      summary: getProjectFeaturePaginated
      description: |-
        Ce service permet de récupérer 
      operationId: getProjectFeaturePaginated
      parameters:
        - name : slug
          in: path
          description: Slug (string) du projet
          required: true
          schema:
            type: string
        - name : ordering
          in: query
          description: Recherche par un paramètre de requête ?ordering=...
          schema:
            type: string
        - name : limit
          in: query
          description: Recherche par un paramètre de requête ?limit=...
          schema:
            type: string
        - name : offset
          in: query
          description: Recherche par un paramètre de requête ?offset=...,  10/50/100
          schema:
            type: string
        - name : feature_type_slug
          in: query
          description: Recherche par un paramètre de requête ?feature_type_slug=...
          schema:
            type: string
        - name : status__value
          in: query
          description: Recherche par un paramètre de requête ?status__value=...
          schema:
            type: string
        - name : title
          in: query
          description: Recherche par un paramètre de requête ?title=...
          schema:
            type: string
        - name : output
          in: query
          description: Recherche par un paramètre de requête ?output=...
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeaturesPaginated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeaturesPaginated'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []

  /api/events/:
    get:
      tags:
        - projects
      summary: getEvents
      description: |-
        Ce service permet de récupérer tous les evenements, signalement et commentaires d'un projet ou de tous les projets.
      operationId: getEvents
      parameters:
        - name : project_slug
          in: query
          description: Slug (string) du projet
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/Events'
            application/json:
              schema:
                $ref: '#/components/schemas/Events'
        '401':
          description: |

        '400':
          description:  |

        '403':
          description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []

  /api/features/{feature_id}/feature-links/:
    get:
      tags:
        - features
      summary: getFeatureLinks
      description: |-
        Ce service permet de récupérer le liason entre signalements.
      operationId: getFeatureLinks
      parameters:
        - name : feature_id
          in: path
          description: Recherche par feature_id (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureLinksUpdated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureLinksUpdated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
    put:
      tags:
        - features
      summary: putFeatureLinks
      description: |-
        Ce service permet de mettre à jour le liason entre signalements.
      operationId: putFeatureLinks
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
      requestBody:
        description: Ce service permet de mettre à jour la liason entre deux signalements.
                    En réponse le signalement est mis à jour et son  contenu sont affiché.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeatureLinksUpdate'
        required: true
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureLinksUpdated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureLinksUpdated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}

  /api/features/{feature_id}/events/:
    get:
      tags:
        - features
      summary: getFeatureEvents
      description: |-
        Ce service permet de récupérer les evenements d'un signalements.
      operationId: getFeatureEvents
      parameters:
        - name : feature_id
          in: path
          description: Recherche par feature_id (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureEvents'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureEvents'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}

  /api/features/{feature_id}/attachments/:
    get:
      tags:
        - features
      summary: getFeatureAttachments
      description: |-
        Ce service permet de récupérer les attachements d'un signalements.
      operationId: getFeatureAttachments
      parameters:
        - name : feature_id
          in: path
          description: Feature id (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsGet'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsGet'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
    post:
      tags:
        - features
      summary: postFeatureAttachments
      description: |-
        Ce service permet de créer un attachement dans un signalement.
      operationId: postFeatureAttachments
      requestBody:
        content: 
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
        required: true
      parameters:
        - name : feature_id
          in: path
          description: Feature id (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}

  /api/features/{feature_id}/attachments/{attachment_id}/:
    get:
      tags:
        - features
      summary: getFeatureAttachmentDetail
      description: |-
        Ce service permet de récupérer un attachement d'un signalements.
      operationId: getFeatureAttachmentDetail
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
        - name : attachment_id
          in: path
          description: Attachment id (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
    put:
      tags:
        - features
      summary: putFeatureAttachment
      description: |-
        Ce service permet de mettre à jour le title et info d'un attachement dans un signalement.
      operationId: putFeatureAttachment
      requestBody:
        content: 
          multipart/form-data:
            schema:
              type: object
              properties:
                title:
                  type: string
                name:
                  type: string
        required: true
      parameters:
        - name : feature_id
          in: path
          description: Feature_id (uuid)
          required: true
          schema:
            type: string
        - name : attachment_id
          in: path
          description: Attachment id (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}

  /api/features/{feature_id}/attachments/{attachment_id}/upload-file/:
    put:
      tags:
        - features
      summary: putFeatureAttachmentUploadFile
      description: |-
        Ce service permet de mettre à jour l'image d'un attachement dans un signalement.
      operationId: putFeatureAttachmentUploadFile
      requestBody:
        content: 
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
        required: true
      parameters:
        - name : feature_id
          in: path
          description: Feature_id (uuid)
          required: true
          schema:
            type: string
        - name : attachment_id
          in: path
          description: Attachment id (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureAttachmentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}

  /api/features/{feature_id}/comments/:
    get:
      tags:
        - features
      summary: getFeatureComments
      description: |-
        Ce service permet de récupérer des dernières commentaires d'un signalements.
      operationId: getFeatureComments
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureComments'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureComments'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
    post:
      tags:
        - features
      summary: postFeatureComments
      description: |-
        Ce service permet de créer un commentaire dans un signalement.
      operationId: postFeatureComments
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentsCreate'
        required: true
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
  
  /api/features/{feature_id}/comments/{comment_id}/:
    get:
      tags:
        - features
      summary: getFeatureCommentsDetail
      description: |-
        Ce service permet de récupérer un commentaire d'un signalements.
      operationId: getFeatureCommentsDetail
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
        - name : comment_id
          in: path
          description: Comment ID (uuid)
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
    put:
      tags:
        - features
      summary: putFeatureCommentsDetail
      description: |-
        Ce service permet de mettre à jour un commentaire d'un signalements.
      operationId: putFeatureCommentsDetail
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
        - name : comment_id
          in: path
          description: Comment ID (uuid)
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentsCreate'
        required: true
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
    delete:
      tags:
        - features
      summary: deleteFeatureCommentsDetail
      description: |-
        Ce service permet de supprimer un commentaire d'un signalements.
      operationId: deleteFeatureCommentsDetail
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
        - name : comment_id
          in: path
          description: Comment ID (uuid)
          required: true
          schema:
            type: string
      responses:
        '204':
          description: |-

        '403':
          description: |-
            "detail :	"Informations d'authentification non fournies."
            "detail": "Nom d'utilisateur et/ou mot de passe non valide(s)."
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
      deprecated: false
      security: []

  /api/features/{feature_id}/comments/{comment_id}/upload-file/:
    put:
      tags:
        - features
      summary: putFeatureCommentsDetailUploadFile
      description: |-
        Ce service permet de mettre à jour une image sur un commentaire d'un signalements.
      operationId: putFeatureCommentsDetailUploadFile
      parameters:
        - name : feature_id
          in: path
          description: Feature ID (uuid)
          required: true
          schema:
            type: string
        - name : comment_id
          in: path
          description: Comment ID (uuid)
          required: true
          schema:
            type: string
      requestBody:
        content: 
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
        required: true
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
            application/json:
              schema:
                $ref: '#/components/schemas/CommentsCreated'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}

  /api/features.mvt/:
    get:
      tags:
        - features
      summary: getFeatureMVT
      description: |-
        Ce service permet de récupérer des Mapbox Vector Tiles.
      operationId: getFeatureMVT
      parameters:
        - name : tile
          in: query
          description: Tuile (4/8/5)
          required: true
          schema:
            type: string
        - name : project_id
          in: query
          description: Project ID
          required: true
          schema:
            type: string
        - name : project__slug
          in: query
          description: Project Slug
          schema:
            type: string
        - name : featuretype_id
          in: query
          description: Feature type ID
          schema:
            type: string
        - name : feature_type__slug
          in: query
          description: Feature type slug
          schema:
            type: string
        - name : offset
          in: query
          description: Recherche par un paramètre de requête ?offset=...,  10/50/100
          schema:
            type: string
        - name : limit
          in: query
          description: Recherche par un paramètre de requête ?limit=...,  10/50/100
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                type:
                  string
            application/json:
              schema:
                type:
                  string
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
        '500':
          description:   | 
            "ValueError"
          headers: {}
          content: {}

  # /api/external-geojson/:
  # /api/idgo-catalog/:

  /api/proxy/:
    get:
      tags:
        - features
      summary: GetFeatureInfo
      description: |-
        Ce service permet de récupérer les informations d'un signalements.
      operationId: GetFeatureInfo
      parameters:
        - name : url
          in: query
          description: URL => https://www.geo2france.fr/geoserver/ows
          required: true
          schema:
            type: string
        - name : request
          in: query
          description: Type de request, ... GetFeatureInfo
          schema:
            type: string
        - name : service
          in: query
          description: Type de Service, ... WMS
          schema:
            type: string
        - name : srs
          in: query
          description: EPSG:3857
          schema:
            type: string
        - name : version
          in: query
          description: Version, ... 1.1.1
          schema:
            type: string
        - name : bbox
          in: query
          description: Recherche par un paramètre de requête ?bbox=..., xx,yy,ww,zz
          schema:
            type: string
        - name : height
          in: query
          description: Recherche par un paramètre de requête ?height=...,  256
          schema:
            type: string
        - name : width
          in: query
          description: Recherche par un paramètre de requête ?width=...,  256
          schema:
            type: string
        - name : x
          in: query
          description: Recherche par un paramètre de requête ?x=...,  253
          schema:
            type: string
        - name : \y
          in: query
          description: Recherche par un paramètre de requête ?y=...,  80
          schema:
            type: string
        - name : query_layers
          in: query
          description: Recherche par un paramètre de requête ?query_layers=...,  pci:cadastre_2020
          schema:
            type: string
        - name : info_format
          in: query
          description: Recherche par un paramètre de requête ?info_format=..., application/json
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                type:
                  string
            application/json:
              schema:
                type:
                  string
        '404':
          description:   | 
            {"Les données sont inaccessibles"}
          headers: {}
          content: {}
        '500':
          description:   | 
            "ValueError"
          headers: {}
          content: {}

  /api/prerecorded-list-values/:
    get:
      tags:
        - features
      summary: GetFeaturePreRecordedListValuesName
      description: |-
        Ce service permet de récupérer les noms des listes pré enregistrées.
      operationId: GetFeaturePreRecordedListValuesName
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/Array'
            application/json:
              schema:
                $ref: '#/components/schemas/Array'

  /api/prerecorded-list-values/{name}:
    get:
      tags:
        - features
      summary: GetFeaturePreRecordedListValues
      description: |-
        Ce service permet de récupérer la liste des valeurs pré enregistré d'un type de signalement.
      operationId: GetFeaturePreRecordedListValues
      parameters:
        - name: name
          in: path
          description: Pattern de la recherche
          required: true
          schema:
            type: string
        - name : pattern
          in: query
          description: Pattern de la recherche
          schema:
            type: string
        - name : limit
          in: query
          description: Recherche par un paramètre de requête ?limit=...,  10/50/100
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/Array'
            application/json:
              schema:
                $ref: '#/components/schemas/Array'

  /api/customfields/:
    get:
      tags:
        - features
      summary: GetCustomFields
      description: |-
        Ce service permet de récupérer la liste des champs personnalisés.
      operationId: GetCustomFields
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/CustomFields'
            application/json:
              schema:
                $ref: '#/components/schemas/CustomFields'

  /api/projects/{slug}/feature-types/:
    get:
      tags:
        - feature types
      summary: getFeaturesTypesDeprecated
      description: |-
        Ce service permet de récupérer tous les types de signalements d'un projet.
      operationId: getFeaturesTypesDeprecated
      parameters:
        - name: slug
          in: path
          description: Recherche par un paramètre de path project slug.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeaturesTypesGetDeprecated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeaturesTypesGetDeprecated'
        '404':
          description:  | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
      deprecated: false
      security: []

  /api/projects/{slug}/feature/:
    get:
      tags:
        - features
      summary: getFeaturesDeprecated
      description: |-
        Ce service permet de récupérer tous les signalements d'un projet.
      operationId: getFeaturesDeprecated
      parameters:
        - name: slug
          in: path
          description: Recherche par un paramètre de path project slug.
          required: true
          schema:
            type: string
        - name : output
          in: query
          description: Format de la response ?output=... geojson
          schema:
            type: string
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeaturesGetDeprecated'
            application/json:
              schema:
                $ref: '#/components/schemas/FeaturesGetDeprecated'
      deprecated: false
      security: []

  /api/v2/users/:
    get:
      tags:
        - users
      summary: getUsers
      description: |-
        Ce service permet de récupérer tous les utilisateurs.
      operationId: getUsers
      responses:
        '200':
          description: Résultat
          content:
           application/json:
            schema:
              $ref: '#/components/schemas/UsersGet'
           application/xml:
            schema:
              $ref: '#/components/schemas/UsersGet'
        
        '403':
          description: | 
           {"detail": "Informations d'authentification non fournies."}
      deprecated: false
      security:
        - bearerAuth: []

  # /api/v2/users/{pk}/:
  # /api/v2/import-tasks/:
  # /api/v2/import-tasks/{pk}/:
  # /api/v2/base-maps/:
  # /api/v2/base-maps/{pk}/:
  # /api/v2/layers/:
  # /api/v2/layers/{pk}/:
  # /api/v2/levels-permissions/:
  # /api/v2/levels-permissions/{pk}/:
  # /api/features/:
  # /api/features/{feature_id}/:
  # /api/feature-types/:
  # /api/feature-types/{slug}/:
  # /api/project-types/:
  # /api/project-types/{pk}/:
  # /api/{format}/:

  /api/v2/features:
    get:
      tags:
        - features
      summary: getFeatures
      description: |-
        Ce service permet de récupérer tous les signalements.
      operationId: getFeatures
      parameters:
        - name: project__slug
          in: query
          description: Recherche par un paramètre de requête ?project__slug=...
          required: false
          schema:
            type: string
        - name: feature_type__slug
          in: query
          description: Recherche par un paramètre de requête ?feature_type__slug=...
          required: false
          schema:
            type: string
        - name: output
          in: query
          description: Recherche par un paramètre de requête ?output=..., geojson/list, geojson par default
          required: false
          schema:
            type: string
        - name: title__contains
          in: query
          description: Recherche par un paramètre de requête ?title__contains=...
          required: false
          schema:
            type: string
        - name: title__icontains
          in: query
          description: Recherche par un paramètre de requête ?title__icontains=...
          schema:
            type: string
        - name : ordering
          in: query
          description: Recherche par un paramètre de requête ?ordering=...
          schema:
            type: string
        - name : limit
          in: query
          description: Recherche par un paramètre de requête ?limit=...,  10/50/100
          schema:
            type: string
        - name : id
          in: query
          description: Recherche par id=...,  1/2/3 ...
          schema:
            type: string
        - name : from_date
          in: query
          description: Recherche à partir d'un date de création, modification et suppresion, ?from_date=...,  YYYY-MM-DD or YYYY-MM-DDTHH:MM:SS
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeaturesGet'
            application/json:
              schema:
                $ref: '#/components/schemas/FeaturesGet'
        '404':
          description:  | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
      deprecated: false
      security: []
  /api/v2/features/{feature_id}:
    get:
      tags:
        - features
      summary: getFeature
      description: |-
        Ce service permet de récupérer le detail d'un signalement.
      operationId: getFeature
      parameters:
        - name : feature_id
          in: path
          description: Recherche par feature_id (uuid)
          required: true
          schema:
            type: string
        - name: project__slug
          in: query
          description: Recherche par un paramètre de requête ?project__slug=...
          required: false
          schema:
            type: string
        - name: feature_type__slug
          in: query
          description: Recherche par un paramètre de requête ?feature_type__slug=...
          required: false
          schema:
            type: string
        
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureGet'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureGet'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
  /api/v2/feature-types:
    get:
      tags:
        - feature types
      summary: getFeaturesTypes
      description: |-
        Ce service permet de récupérer tous les types de signalements.
      operationId: getFeaturesTypes
      parameters:
        - name: project__slug
          in: query
          description: Recherche par un paramètre de requête ?project__slug=...
          required: false
          schema:
            type: string
        - name: feature_type__slug
          in: query
          description: Recherche par un paramètre de requête ?feature_type__slug=...
          required: false
          schema:
            type: string
        
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeaturesTypesGet'
            application/json:
              schema:
                $ref: '#/components/schemas/FeaturesTypesGet'
        '404':
          description:  | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}
      deprecated: false
      security: []
  /api/v2/feature-types/{slug}:
    get:
      tags:
        - feature types
      summary: getFeatureType
      description: |-
        Ce service permet de récupérer le detail d'un type de signalement.
      operationId: getFeatureType
      parameters:
        - name : slug
          in: path
          description: Recherche par feature type slug
          required: true
          schema:
            type: string

      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FeatureTypeGet'
            application/json:
              schema:
                $ref: '#/components/schemas/FeatureTypeGet'
        '404':
          description:   | 
            {"detail": "Pas trouvé."}
          headers: {}
          content: {}

  /api/get-token/:
    get:
      tags:
        - users
      summary: getToken
      description: |-
        Ce service permet de récupérer le token de l'utilisateur connecté.
      operationId: getToken
      responses:
        '200':
          description: Résultat
          content:
           application/json:
            schema:
                type: object
           application/xml:
            schema:
                type: object
        
        '403':
          description: | 
           {"detail": "Informations d'authentification non fournies."}
      deprecated: false
      security:
        - bearerAuth: []

  /api/user_info/:
    get:
      tags:
        - users
      summary: userInfo
      description: |-
        Ce service permet de récupérer le token de l'utilisateur connecté.
      operationId: userInfo
      responses:
        '200':
          description: Résultat
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '403':
          description: | 
           {"detail": "Informations d'authentification non fournies."}
      deprecated: false
      security:
        - bearerAuth: []

  /api/user-level-projects/:
    get:
      tags:
        - users
      summary: userLevelProjects
      description: |-
        Ce service permet de récupérer les profiles de l'utilisateur connecté par projet.
      operationId: userLevelProjects
      responses:
        '200':
          description: Résultat
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserLevelProjects'
      deprecated: false
      security:
        - bearerAuth: []

  /api/user-permissions/:
    get:
      tags:
        - users
      summary: userPermissions
      description: |-
        Ce service permet de récupérer tous les permissions de l'utilisateur connecté par projet.
      operationId: userPermissions
      responses:
        '200':
          description: Résultat
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userPermissions'
      deprecated: false
      security:
        - bearerAuth: []

  /api/exif-geom-reader/:
    post:
      tags:
        - misc
      summary: addExifGeomReader
      description: |-
        Ce service permet de géolocaliser une image.
      operationId: addExifGeomReader
      requestBody:
        content: 
          multipart/form-data:
            schema:
              type: object
              properties:
                image_file:
                  type: string
                  format: binary
        required: true
      responses:
        '201':
          description: Création
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Exif'
            application/xml:
              schema:
                $ref: '#/components/schemas/Exif'
        # '401':
        #   description: |

        '400':
          description:  |
                {error : "Erreur lors de la lecture des données GPS."}
        # '403':
        #   description: | 
        '405':
          description: Invalid input
          headers: {}
          content: {}
      deprecated: false
      security: []

  /api/flat-pages:
    get:
      tags:
        - flat-pages
      summary: flat-pages
      description: |-
        Ce service permet permet récupérer le contenu HTML "plat" dans la base de données.
      operationId: flat-pages
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/FlatPages'
            application/json:
              schema:
                $ref: '#/components/schemas/FlatPages'
      deprecated: false
      security: []

  /api/version:
    get:
      tags:
        - version
      summary: version
      description: |-
        Ce service permet de récupérer la version de geocontrib.
      operationId: version
      responses:
        '200':
          description: Résultat
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/Version'
            application/json:
              schema:
                $ref: '#/components/schemas/Version'
      deprecated: false
      security: []

components:
  schemas:
    ProjectComments:
      title: ProjectComments
      type: object
      properties:
        last_comments:
          type: string
    BboxProject:
      title: BboxProject
      type: object
      properties:
        minLon:
          type: number
        minLat:
          type: number
        maxLon:
          type: number
        maxLat:
          type: number
    FlatPages:
      title: FlatPages
      type: object
      properties:
        url:
          type: string
        title:
          type: string
        content:
          type: string
        sites:
          type: array
          items: 
            type: number
        template_name:
          type: string
    Login:
      title: Login
      type: object
      properties:
        username:
          type: string
        password:
          type: string
    LoginDetail:
      title: LoginDetail
      type: object
      properties:
        detail:
          type: string
        user:
          type: object
          properties:
            username:
              type: string
            is_active:
              type: string
            first_name:
              type: string
            last_name:
              type: string
            is_administrator:
              type: boolean
            is_superuser:
              type: boolean
            can_create_project:
              type: boolean
            email:
              type: string
            id:
              type: number
    Version:
      title: Version
      type: object
      properties:
        geocontrib:
          type: string
        geocontrib-celery:
          type: string
    UserShort:
      title: UserShort
      type: object
      properties:
        full_name:
          type: string
        username:
          type: string
    UsersGet:
      title: UsersGet
      type: array
      items:
        $ref: '#/components/schemas/UserShort'
    User:
      title: User
      type: object
      properties:
        username:
          type: string
        is_active:
          type: boolean
        firs_tName:
          type: string
        last_Name:
          type: string
        is_administrator:
          type: boolean
        is_superuser:
          type: boolean
        can_create_project:
          type: boolean
        email:
          type: string
        id:
          type: integer
    UserLevelProjects:
      title: UserLevelProjects
      type: object
      properties:
        project-name:
          type: string
    UserProject:
      title: UserProject
      type: array
      items:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: number
              first_name:
                type: string
              last_name:
                type: string
              username:
                type: string
          level:
            type: object
            properties:
              display:
                type: string
              codename:
                type: string
    userPermissions:
      title: userPermissions
      type: object
      properties:
        project-name:
          type: object
          properties:
            can_view_project:
              type: boolean
            can_create_project:
              type: boolean
            can_update_project:
              type: boolean
            can_view_feature:
              type: boolean
            can_view_archived_feature:
              type: boolean
            can_create_feature:
              type: boolean
            can_delete_feature:
              type: boolean
            can_publish_feature:
              type: boolean
            can_create_feature_type:
              type: boolean
            can_view_feature_type:
              type: boolean
            is_project_super_contributor:
              type: boolean
            is_project_moderator:
              type: boolean
            is_project_administrator:
              type: boolean
    ProjectPost:
      title: ProjectPost
      type: object
      required:
        - title
        - access_level_arch_feature
        - access_level_pub_feature
        - archive_feature
        - delete_feature
        - description
        - fast_edition_mode
        - generate_share_link
        - is_project_type
        - map_max_zoom_level
        - moderation
      properties:
        title:
          type: string
        slug: 
          type: string
        description:
          type: string
        moderation:
          type: boolean
        is_project_type:
          type: boolean
          description: Est un projet type
        generate_share_link:
          type: boolean
          description: Génération d'un lien de partage externe
        fast_edition_mode:
          type: boolean
          description: Génération d'un lien de partage externe
        creator:
          type: integer
          description: Créateur
        access_level_pub_feature:
          type: string
          description: Visibilité des signalements publiés => anonymous / logged_user / contributor / super_contributor/ moderator / admin
        access_level_arch_feature:
          type: string
          description: Visibilité des signalements archivés => anonymous / logged_user / contributor / super_contributor/ moderator / admin
        archive_feature:
          type: integer
          description: Délai avant archivage
        delete_feature:
          type: integer
          description: Délai avant suppression
        map_max_zoom_level:
          type: integer
          description: Niveau de zoom maximum de la carte
        feature_browsing_default_filter:
          type: integer
          description: Mode d'édition rapide de signalements
        feature_browsing_default_sort:
          type: integer
          description: Tri par défaut du parcours du signalement
    ProjectUpdate:
      title: ProjectUpdate
      type: object
      required:
        - title
        - access_level_arch_feature
        - access_level_pub_feature
        - archive_feature
        - delete_feature
        - description
        - fast_edition_mode
        - generate_share_link
        - is_project_type
        - map_max_zoom_level
        - moderation
        - feature_browsing_default_filter
        - feature_browsing_default_sort
      properties:
        title:
          type: string
        slug: 
          type: string
        description:
          type: string
        moderation:
          type: boolean
        is_project_type:
          type: boolean
          description: Est un projet type
        generate_share_link:
          type: boolean
          description: Génération d'un lien de partage externe
        fast_edition_mode:
          type: boolean
          description: Génération d'un lien de partage externe
        creator:
          type: integer
          description: Créateur
        access_level_pub_feature:
          type: string
          description: Visibilité des signalements publiés
        access_level_arch_feature:
          type: string
          description: Visibilité des signalements archivés
        archive_feature:
          type: integer
          description: Délai avant archivage
        delete_feature:
          type: integer
          description: Délai avant suppression
        map_max_zoom_level:
          type: integer
          description: Niveau de zoom maximum de la carte
        feature_browsing_default_filter:
          type: integer
          description: Mode d'édition rapide de signalements
        feature_browsing_default_sort:
          type: integer
          description: Tri par défaut du parcours du signalement
    ProjectsGet:
      title: ProjectsGet
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
        previous: 
          type: string
        results:
          type: array
          items:
            type: object
            properties:
              title:
                type: string
              slug:
                type: string
              created_on:
                type: string
                description: Date de création
                example: AAAA-MM-JJ ou JJ-MM-AAAA
              updated_on:
                type: string
                description: Date de modification
                example: AAAA-MM-JJ ou JJ-MM-AAAA
              description:
                type: string
              moderation:
                type: boolean
              is_project_type:
                type: boolean
                description: Est un projet type
              generate_share_link:
                type: boolean
                description: Génération d'un lien de partage externe
              fast_edition_mode:
                type: boolean
                description: Génération d'un lien de partage externe
              thumbnail:
                type: string
                description: Date de création
              creator:
                type: integer
                description: Créateur
              access_level_pub_feature:
                type: string
                description: Visibilité des signalements publiés
              access_level_arch_feature:
                type: string
                description: Visibilité des signalements archivés
              archive_feature:
                type: integer
                description: Délai avant archivage
              delete_feature:
                type: integer
                description: Délai avant suppression
              map_max_zoom_level:
                type: integer
                description: Niveau de zoom maximum de la carte
              nb_features:
                type: integer
              nb_published_features:
                type: integer
              nb_comments:
                type: integer
              nb_published_features_comments:
                type: integer
              nb_contributors:
                type: integer
              feature_browsing_default_filter:
                type: integer
                description: Mode d'édition rapide de signalements
              feature_browsing_default_sort:
                type: integer
                description: Tri par défaut du parcours du signalement
    ProjectGet:
      title: ProjectGet
      type: object
      properties:
        title:
          type: string
        slug:
          type: string
        created_on:
          type: string
          description: Date de création
          example: AAAA-MM-JJ ou JJ-MM-AAAA
        updated_on:
          type: string
          description: Date de modification
          example: AAAA-MM-JJ ou JJ-MM-AAAA
        description:
          type: string
        moderation:
          type: boolean
        is_project_type:
          type: boolean
          description: Est un projet type
        generate_share_link:
          type: boolean
          description: Génération d'un lien de partage externe
        fast_edition_mode:
          type: boolean
          description: Génération d'un lien de partage externe
        thumbnail:
          type: string
          description: Date de création
        creator:
          type: integer
          description: Créateur
        access_level_pub_feature:
          type: string
          description: Visibilité des signalements publiés
        access_level_arch_feature:
          type: string
          description: Visibilité des signalements archivés
        archive_feature:
          type: integer
          description: Délai avant archivage
        delete_feature:
          type: integer
          description: Délai avant suppression
        map_max_zoom_level:
          type: integer
          description: Niveau de zoom maximum de la carte
        nb_features:
          type: integer
        nb_published_features:
          type: integer
        nb_comments:
          type: integer
        nb_published_features_comments:
          type: integer
        nb_contributors:
          type: integer
        feature_browsing_default_filter:
          type: integer
          description: Mode d'édition rapide de signalements
        feature_browsing_default_sort:
          type: integer
          description: Tri par défaut du parcours du signalement
    FeaturesGet:
        title: FeaturesGet
        type: object
        properties:
          count:
            type: integer
          features:
            type: array
            items:
              type: object
              properties:
                feature_id:
                  type: string
                title:
                  type: string
                description:
                  type: string
                status:
                  type: string
                created_on:
                  type: string
                  description: Date de création
                  example: AAAA-MM-JJ ou JJ-MM-AAAA
                updated_on:
                  type: string
                  description: Date de modification
                  example: AAAA-MM-JJ ou JJ-MM-AAAA
                creator:
                  type: string
                display_creator:
                  type: string
                display_last_editor:
                  type: string
                project:
                  type: string
                feature_type:
                  type: object
                  description: Génération d'un lien de partage externe
                  properties:
                    title:
                      type: string
                    slug:
                      type: string
                    geom_type:
                      type: string
                    customfield_set:
                      type: array
                      items:
                        type: object
                        properties:
                          position:
                            type: string
                          label:
                            type: string
                          name:
                            type: string
                          field_type:
                            type: string
                          options:
                            type: array
                            items:
                              type: string
                          is_mandatory:
                            type: boolean
                    project:
                      type: string
                geom:
                  type: object
                  properties:
                    type:
                      type: string
                    coordinates:
                      type: array
                      items:
                        type: number
                feature_data:
                  type: array
                  items:
                    properties:
                      label:
                        type: string
                      field_type:
                        type: string
                      value:
                        type: string
                archived_on:
                  type: boolean
                access_level_pub_feature:
                  type: string
                  description: Visibilité des signalements publiés
                access_level_arch_feature:
                  type: string
                  description: Visibilité des signalements archivés
                archive_feature:
                  type: integer
                  description: Délai avant archivage
                delete_feature:
                  type: integer
                  description: Délai avant suppression
                map_max_zoom_level:
                  type: integer
                  description: Niveau de zoom maximum de la carte
                nb_features:
                  type: integer
                nb_published_features:
                  type: integer
                nb_comments:
                  type: integer
                nb_published_features_comments:
                  type: integer
                nb_contributors:
                  type: integer
                feature_browsing_default_filter:
                  type: integer
                  description: Mode d'édition rapide de signalements
                feature_browsing_default_sort:
                  type: integer
                  description: Tri par défaut du parcours du signalement
    Feature:
      title: Feature
      type: object
      properties:
        feature_id:
          type: string
        title:
          type: string
        description:
          type: string
        status:
          type: string
        created_on:
          type: string
          description: Date de création
          example: AAAA-MM-JJ ou JJ-MM-AAAA
        updated_on:
          type: string
          description: Date de modification
          example: AAAA-MM-JJ ou JJ-MM-AAAA
        creator:
          type: string
        display_creator:
          type: string
        display_last_editor:
          type: string
        project:
          type: string
        feature_type:
          type: object
          description: Génération d'un lien de partage externe
          properties:
            title:
              type: string
            slug:
              type: string
            geom_type:
              type: string
            customfield_set:
              type: array
              items:
                type: object
                properties:
                  position:
                    type: string
                  label:
                    type: string
                  name:
                    type: string
                  field_type:
                    type: string
                  options:
                    type: array
                    items:
                      type: string
                  is_mandatory:
                    type: boolean
            project:
              type: string
        geom:
          type: object
          properties:
            type:
              type: string
            coordinates:
              type: array
              items:
                type: number
        feature_data:
          type: array
          items:
            properties:
              label:
                type: string
              field_type:
                type: string
              value:
                type: string
    FeaturesPaginated:
        title: FeaturesPaginated
        type: object
        properties:
          count:
            type: integer
          next:
            type: string
          previous:
            type: string
          results:
            type: array
            items:
              $ref: '#/components/schemas/Feature'
    FeatureGet:
      title: FeatureGet
      type: object
      properties:
        title:
          type: string
        slug:
          type: string
        created_on:
          type: string
          description: Date de création
          example: AAAA-MM-JJ ou JJ-MM-AAAA
        updated_on:
          type: string
          description: Date de modification
          example: AAAA-MM-JJ ou JJ-MM-AAAA
        description:
          type: string
        moderation:
          type: boolean
        is_project_type:
          type: boolean
          description: Est un projet type
        generate_share_link:
          type: boolean
          description: Génération d'un lien de partage externe
        fast_edition_mode:
          type: boolean
          description: Génération d'un lien de partage externe
        thumbnail:
          type: string
          description: Date de création
        creator:
          type: integer
          description: Créateur
        access_level_pub_feature:
          type: string
          description: Visibilité des signalements publiés
        access_level_arch_feature:
          type: string
          description: Visibilité des signalements archivés
        archive_feature:
          type: integer
          description: Délai avant archivage
        delete_feature:
          type: integer
          description: Délai avant suppression
        map_max_zoom_level:
          type: integer
          description: Niveau de zoom maximum de la carte
        nb_features:
          type: integer
        nb_published_features:
          type: integer
        nb_comments:
          type: integer
        nb_published_features_comments:
          type: integer
        nb_contributors:
          type: integer
        feature_browsing_default_filter:
          type: integer
          description: Mode d'édition rapide de signalements
        feature_browsing_default_sort:
          type: integer
          description: Tri par défaut du parcours du signalement
    FeaturesGetDeprecated:
      title: FeaturesGetDeprecated
      type: object
      properties:
        features:
          type: array
          items:
            $ref: '#/components/schemas/Feature'
    FeatureSearch:
      title: FeatureSearch
      type: object
      properties:
          count:
            type: integer
          next:
            type: string
          previous:
            type: string
          results:
            type: array
            items:
              type: object
              properties:
                feature_id:
                  type: string
                title:
                  type: string
                description:
                  type: string
                status:
                  type: string
                creator:
                  $ref: '#/components/schemas/UserShort'
                created_on:
                  type: string
                  description: Date de création
                  example: AAAA-MM-JJ ou JJ-MM-AAAA
                updated_on:
                  type: string
                  description: Date de modification
                  example: AAAA-MM-JJ ou JJ-MM-AAAA
                archived_on:
                  type: string
                  description: Date de archive
                  example: AAAA-MM-JJ ou JJ-MM-AAAA
                deletion_on:
                  type: string
                  description: Date de suppresion
                  example: AAAA-MM-JJ ou JJ-MM-AAAA
                project_slug:
                  type: string
                feature_type_slug:
                  type: string
                geom:
                  type: object
                  properties:
                    type:
                      type: string
                    coordinates:
                      type: array
                      items:
                        type: number
    FeatureLinksUpdate:
      title: FeatureLinksUpdate
      type: object
      properties:
        dataKey:
          type: number
        feature_to:
          type: object
          properties:
            feature_id:
              type: string
        relation_type:
          type: string
    FeatureLinksUpdated:
      title: FeatureLinksUpdate
      type: object
      properties:
        relation_type:
          type: string
        relation_type_display:
          type: string
        feature_to:
          type: object
          properties:
            feature_id:
              type: string
            title:
              type: string
            display_creator:
              type: string
            created_on:
              type: string
            url:
              type: string
            feature_type_slug:
              type: string
    FeatureEvents:
      title: FeatureEvents
      type: object
      properties:
        created_on:
          type: string
        object_type:
          type: string
        event_type:
          type: string
        display_user:
          type: string
        related_comment:
          type: object
          properties:
            comment:
              type: string
            attachment:
              type: object
              properties:
                url:
                  type: string
                title:
                  type: string
    FeatureAttachmentsCreated:
      title: FeatureAttachmentsCreated
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        info:
          type: string
        attachment_file:
          type: string
        extension:
          type: string
        created_on:
          type: string
        display_author:
          type: string
    FeatureAttachmentsGet:
      title: FeatureAttachments
      type: array
      items:
        $ref: '#/components/schemas/FeatureAttachmentsCreated'
    CommentsCreate:
      title: CommentsCreate
      type: object
      properties:
        comment:
          type: string
    CommentsCreated:
      title: CommentsCreated
      type: object
      properties:
        id:
          type: string
        comment:
          type: string
        created_on:
          type: string
        display_author:
          type: string
        attachment:
          type: object
          properties:
            url:
              type: string
            extension:
              type: string
            title:
              type: string
            info:
              type: string
    FeatureCommentsCreated:
      title: FeatureCommentsCreated
      type: object
      properties:
        last_comments:
            type: array
            items:
                type: object
                properties:
                  created_on:
                    type: string
                  comment:
                    type: string
                  display_author:
                    type: object
                    properties:
                      feature_id:
                        type: string
                      title:
                        type: string
                      feature_url:
                        type: string
    FeatureComments:
      title: FeatureComments
      type: array
      items:
        $ref: '#/components/schemas/FeatureCommentsCreated'
    FeatureTypeGet:
      title: FeatureTypeGet
      type: object
      properties:
        title:
          type: string
        title_optional:
          type: boolean
        slug:
          type: string
        geom_type:
          type: string
        icon:
          type: string
        opacity:
          type: string
        color_style:
          type: object
          properties:
            colors:
              type: object
            custom_field_name:
              type: string
        project:
          type: string
        customfield_set:
          type: array
          items:
            type: object
            properties:
              position:
                type: string
              label:
                type: string
              name:
                type: string
              field_type:
                type: string
              options:
                type: array
                items:
                  type: string
              is_mandatory:
                type: boolean
        is_editable:
          type: boolean
    FeaturesTypesGet:
      title: FeaturesTypesGet
      type: array
      items:
        $ref: '#/components/schemas/FeatureTypeGet'
    FeaturesTypesGetDeprecated:
      title: FeaturesTypesGetDeprecated
      type: object
      properties:
        feature_types:
          type: array
          items:
            $ref: '#/components/schemas/FeatureTypeGet'
    GeojsonFeatures:
      title: GeojsonFeatures
      type: object
      properties:
        type:
          type: string
        features:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              type:
                type: string
              geometry:
                type: object
                properties:
                  type:
                    type: string
                  coordinates:
                    type: array
                    items:
                      type: string
              properties:
                type: object
                properties:
                  title:
                    type: string
                  description:
                    type: string
                  status:
                    type: string
                  created_on:
                    type: string
                    description: Date de création
                    example: AAAA-MM-JJ ou JJ-MM-AAAA
                  updated_on:
                    type: string
                  archived_on:
                    type: string
                  deletion_on:
                    type: string
                  feature_type:
                    type: string
                  project:
                    type: string
                  display_creator:
                    type: string
                  creator:
                    type: number
    Subscription:
      title: Subscription
      type: object
      properties:
        is_suscriber:
          type: boolean
    Events:
      title: GeojsonFeatures
      type: object
      properties:
        events:
          type: object
          properties:
            created_on:
              type: string
              description: Date de création
              example: AAAA-MM-JJ ou JJ-MM-AAAA
            object_type:
              type: string
            event_type:
              type: string
            data:
              type: object
              properties:
                extra:
                  type: object
                  properties:
                    nom:
                      type: string
                    code:
                      type: string
                feature_title:
                  type: string
                feature_status:
                  type: string
                project_slug:
                  type: object
                  properties:
                    new_status:
                      type: string
                    has_changed:
                      type: boolean
            project_slug:
              type: string
            feature_type_slug:
              type: string
            feature_id:
              type: string
            comment_id:
              type: string
            attachment_id:
              type: string
            display_user:
              type: string
            related_comment:
              type: object
              properties:
                comment:
                  type: string
                
                attachments:
                  type: array
                  items:
                    type: object
                    properties:
                      url:
                        type: string
                      title:
                        type: string
            related_feature:
              type: object
              properties:
                feature_id:
                  type: string
                title:
                  type: string
                feature_url:
                  type: string
            project_url:
              type: string
        features:
          type: array
          items:
            type: object
            properties:
              created_on:
                type: string
                description: Date de création
                example: AAAA-MM-JJ ou JJ-MM-AAAA
              object_type:
                type: string
              event_type:
                type: string
              data:
                type: object
                properties:
                  extra:
                    type: object
                    properties:
                      nom:
                        type: string
                      code:
                        type: string
                  feature_title:
                    type: string
                  feature_status:
                    type: object
                    properties:
                      new_status:
                        type: string
                      has_changed:
                        type: boolean
              project_slug:
                type: string
              feature_type_slug:
                type: string
              feature_id:
                type: string
              comment_id:
                type: string
              attachment_id:
                type: string
              display_user:
                type: string
              related_comment:
                type: object
                properties:
                  comment:
                    type: string
                  attachments:
                    type: array
                    items:
                      type: object
                      properties:
                        url:
                          type: string
                        title:
                          type: string
              related_feature:
                type: object
                properties:
                  feature_id:
                    type: string
                  title:
                    type: string
                  feature_url:
                    type: string
              project_url:
                type: string
        comments:
          type: array
          items:
            type: object
            properties:
              created_on:
                type: string
                description: Date de création
                example: AAAA-MM-JJ ou JJ-MM-AAAA
              object_type:
                type: string
              event_type:
                type: string
              data:
                type: object
                properties:
                  author:
                    type: string
                  comment:
                    type: string
                  username:
                    type: string
                  project_slug:
                    type: string
              project_slug:
                type: string
              feature_type_slug:
                type: string
              feature_id:
                type: string
              comment_id:
                type: string
              attachment_id:
                type: string
              display_user:
                type: string
              related_comment:
                type: object
                properties:
                  comment:
                    type: string
                  attachments:
                    type: array
                    items:
                      type: object
                      properties:
                        url:
                          type: string
                        title:
                          type: string
              related_feature:
                type: object
                properties:
                  feature_id:
                    type: string
                  title:
                    type: string
                  feature_url:
                    type: string
              project_url:
                type: string
    Exif:
      title: Exif
      type: object
      properties:
        events:
          type: object
          properties:
            geom:
              type: string
              description: Point
              example: POINT (2.0008333333333335 49.00055555555556)
    CustomFields:
      title: CustomFields
      type: object
      properties:
        type:
          type: string
        label:
          type: string
    Array:
      title: Array
      type: array
      items:
        type: string

  securitySchemes:
    bearerAuth:
      type: http
      scheme: basic
security: 
  - bearerAuth: []
tags:
  - name: auth
    description: Login and logout user in app
  - name: users
    description: Get users related informations
  - name: projects
    description: Retrieve, list, edit and delete projects
  - name: feature types
    description: Retrieve, list, edit and delete feature types
  - name: features
    description: Retrieve, list, edit and delete features
  - name: misc
    description: Miscellanous
  - name: flat-pages
    description: Static pages content
  - name: version
    description: Get app version number
externalDocs:
  description: Find more about Geocontrib
  url: https://www.onegeosuite.fr/docs/module-geocontrib/intro