# Generated by Django 3.2.18 on 2024-06-11 08:06

from django.db import migrations
from django.core.management import call_command


def load_datas(apps, schema_editor):
    """
    This migration is designed to ensure that updated data for notification settings
    and scheduled tasks are loaded into the database during deployments.
    It's necessary for environments where the application is already installed
    and needs these data updates to function correctly without requiring a manual reload.
    The `elidable=True` parameter ensures that this migration can be skipped during operations
    like applying migrations with `--fake`, making it suitable for environments that are being updated rather than freshly installed.
    """
    call_command('loaddata', 'geocontrib/data/geocontrib_beat.json')
    call_command('loaddata', 'geocontrib/data/notificationmodel.json')

class Migration(migrations.Migration):

    dependencies = [
        ('geocontrib', '0052_key_document_notification'),
    ]

    operations = [
        migrations.RunPython(load_datas, elidable=True),
    ]
